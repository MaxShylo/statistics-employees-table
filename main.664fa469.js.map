{"version":3,"sources":["scripts/main.js"],"names":["currentTitle","currentRow","table","document","querySelector","thead","tbody","headers","querySelectorAll","body","offices","ascOrder","header","className","pushNotification","title","description","type","message","createElement","setAttribute","innerHTML","style","top","right","minHeight","height","insertBefore","lastElementChild","setTimeout","remove","convertToNumber","string","split","join","convertToCorrectFormat","toFixed","editorOfCell","cell","input","initialValue","value","length","innerText","cellIndex","includes","isNaN","addEventListener","e","target","closest","rows","index","sort","a","b","cells","localeCompare","forEach","row","append","undefined","classList","form","action","method","preventDefault","data","FormData","entries","Object","fromEntries","position","office","age","salary","name","reset","focus","eve","key"],"mappings":"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","file":"main.664fa469.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst thead = table.querySelector('thead');\nconst tbody = table.querySelector('tbody');\nconst headers = thead.querySelectorAll('th');\nconst body = document.querySelector('body');\nconst offices = ['Tokyo', 'Singapore',\n  'London', 'New York', 'Edinburgh', 'San Francisco'];\n\nlet ascOrder = true;\nlet currentTitle;\nlet currentRow;\n\nfor (const header of headers) {\n  header.className = 'header';\n}\n\nconst pushNotification = (title, description, type) => {\n  const message = document.createElement('div');\n\n  message.className = `notification ${type}`;\n  message.setAttribute('data-qa', 'notification');\n\n  message.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n  `;\n\n  message.style.top = `3px`;\n  message.style.right = `10px`;\n  message.style.minHeight = '0px';\n  message.style.height = '90px';\n\n  body.insertBefore(message, body.lastElementChild);\n\n  setTimeout(() => message.remove(), 2000);\n};\n\nconst convertToNumber = (string) => {\n  return +string.split('$').join('').split(',').join('');\n};\n\nconst convertToCorrectFormat = (string) => {\n  return (+string).toFixed(3).split('.').join(',');\n};\n\nconst editorOfCell = (cell, input, initialValue) => {\n  if (!input.value.length) {\n    cell.innerText = initialValue;\n    input.remove();\n  } else if (input.value[0] === ' ') {\n    pushNotification('Warning!!!', 'Provide correct data', 'warning');\n    cell.innerText = initialValue;\n    input.remove();\n  } else {\n    cell.innerText = input.value;\n    input.remove();\n  }\n\n  switch (headers[cell.cellIndex].innerText) {\n    case 'Name':\n      if (input.value.length < 4 && !input.value.includes(' ')) {\n        pushNotification('Warning!!!',\n          'Name should contain min 4 letter', 'warning');\n\n        cell.innerText = initialValue;\n      }\n      break;\n\n    case 'Age':\n      if ((isNaN(input.value) && !input.value.includes(' ')) || !input.value) {\n        pushNotification('Warning!!!', 'Provide correct age', 'warning');\n        cell.innerText = initialValue;\n      } else if (input.value < 18 && !input.value.includes(' ')) {\n        pushNotification('Warning!!!', 'Min age is 18', 'warning');\n        cell.innerText = initialValue;\n      } else if (input.value > 90 && !input.value.includes(' ')) {\n        pushNotification('Warning!!!', 'Max age is 90', 'warning');\n        cell.innerText = initialValue;\n      }\n      break;\n\n    case 'Office':\n      if (!offices.includes(input.value) && !input.value.includes(' ')) {\n        pushNotification('Warning!!!', 'Provide correct location', 'warning');\n        cell.innerText = initialValue;\n      }\n      break;\n\n    case 'Salary':\n      if (((isNaN(input.value) && !input.value.includes(' '))\n        || input.value === '0')) {\n        pushNotification('Warning!!!', 'Provide correct salary', 'warning');\n        cell.innerText = initialValue;\n      } else if (input.value.includes(' ')) {\n        break;\n      } else {\n        cell.innerText = `$${convertToCorrectFormat(input.value)}`;\n      }\n      break;\n  }\n};\n\ntable.addEventListener('click', (e) => {\n  const header = e.target.closest('.header');\n\n  if (!header) {\n    return;\n  }\n\n  const rows = [...tbody.rows];\n  const index = header.cellIndex;\n\n  if (currentTitle !== header.innerText) {\n    ascOrder = true;\n  }\n\n  currentTitle = header.innerText;\n\n  if (ascOrder) {\n    rows.sort((a, b) => header.innerText === 'Salary'\n      ? convertToNumber(a.cells[index].innerText)\n        - convertToNumber(b.cells[index].innerText)\n      : a.cells[index].innerText.localeCompare(b.cells[index].innerText));\n\n    ascOrder = !ascOrder;\n  } else {\n    rows.sort((a, b) => header.innerText === 'Salary'\n      ? convertToNumber(b.cells[index].innerText)\n        - convertToNumber(a.cells[index].innerText)\n      : b.cells[index].innerText.localeCompare(a.cells[index].innerText));\n\n    ascOrder = !ascOrder;\n  }\n\n  tbody.innerHTML = '';\n  rows.forEach(row => tbody.append(row));\n});\n\ntbody.addEventListener('click', (e) => {\n  const row = e.target.closest('tr');\n\n  if (!row) {\n    return;\n  }\n\n  if (currentRow !== row && currentRow !== undefined) {\n    currentRow.classList.remove('active');\n  }\n\n  row.className = 'active';\n  currentRow = row;\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\nform.action = '/';\nform.method = 'GET';\n\nform.innerHTML = `\n  <label>\n    Name:\n    <input\n      name=\"name\"\n      type=\"text\"\n      data-qa=\"name\"\n      placeholder=\"Name\"\n      required>\n  </label>\n  <label>\n    Position:\n    <input\n      name=\"position\"\n      type=\"text\"\n      data-qa=\"position\"\n      placeholder=\"Position\"\n      required>\n  </label>\n  <label>\n    Office:\n    <select name=\"office\" data-qa=\"office\" required>\n      <option selected disabled>Choose location</option>\n      <option value=\"Tokyo\">${offices[0]}</option>\n      <option value=\"Singapore\">${offices[1]}</option>\n      <option value=\"London\">${offices[2]}</option>\n      <option value=\"New York\">${offices[3]}</option>\n      <option value=\"Edinburgh\">${offices[4]}</option>\n      <option value=\"San Francisco\">${offices[5]}</option>\n    </select>\n  </label>\n  <label>\n    Age:\n    <input\n      name=\"age\"\n      type=\"number\"\n      data-qa=\"age\"\n      placeholder=\"Age\"\n      required>\n  </label>\n  <label>\n    Salary:\n    <input\n      name=\"salary\"\n      type=\"number\"\n      data-qa=\"salary\"\n      placeholder=\"thousand US dollar\"\n      required>\n  </label>\n\n  <button type=\"submit\">Save to table</button>\n`;\n\nbody.insertBefore(form, body.lastElementChild);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const entries = Object.fromEntries(data.entries());\n  const { position, office, age, salary } = entries;\n\n  const row = document.createElement('tr');\n\n  row.innerHTML = `\n    <td>${entries.name}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>$${convertToCorrectFormat(salary)}</td>\n  `;\n\n  if (entries.name.length < 4) {\n    pushNotification('Error!!!', 'Name should contain min 4 letter', 'error');\n  } else if (age < 18) {\n    pushNotification('Error!!!', 'Min age is 18', 'error');\n  } else if (age > 90) {\n    pushNotification('Error!!!', 'Max age is 90', 'error');\n  } else if (office === undefined) {\n    pushNotification('Error!!!', 'Choose office location', 'error');\n  } else if (+salary === 0) {\n    pushNotification('Error!!!', 'Provide correct salary', 'error');\n  } else {\n    pushNotification('Success!!!', 'New user successfully added', 'success');\n    tbody.append(row);\n    form.reset();\n  }\n});\n\ntbody.addEventListener('dblclick', (e) => {\n  const cell = e.target.closest('td');\n\n  if (!cell) {\n    return;\n  }\n\n  const initialValue = cell.innerText;\n\n  const input = document.createElement('input');\n\n  input.className = 'cell-input';\n  input.type = 'text';\n  input.value = initialValue;\n  cell.innerText = '';\n  cell.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    editorOfCell(cell, input, initialValue);\n  });\n\n  input.addEventListener('keydown', (eve) => {\n    if (eve.key !== 'Enter') {\n      return;\n    }\n\n    editorOfCell(cell, input, initialValue);\n  });\n});\n"]}